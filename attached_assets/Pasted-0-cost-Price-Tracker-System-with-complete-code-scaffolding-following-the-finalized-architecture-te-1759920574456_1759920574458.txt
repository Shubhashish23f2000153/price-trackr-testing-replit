0-cost Price Tracker System with complete code scaffolding, following the finalized architecture, tech stack, and behavior outlined below.
Everything should be production-structured, modular, documented, and designed for self-hosted VPS deployment using Docker Compose â€” no paid APIs, no licensing traps, no cloud dependencies.


---

ğŸ§  GENERAL DESCRIPTION

Build a cross-platform global price tracker that:

Tracks, compares, and stores product prices across multiple e-commerce sites.

Works in real time and per location/timezone.

Supports online and offline pricing, watchlists, scam detection, and sale awareness.

Functions as both PWA and browser extension, with optional Flutter app support.

Runs entirely on a self-hosted VPS with FastAPI backend + React frontend + Playwright scraper engine.

Costs â‚¹0 to operate and maintain.



---

ğŸ— SYSTEM ARCHITECTURE

Components:

1. Frontend (Web App): React + Vite + Tailwind (PWA-ready)


2. Browser Extension: Manifest v3 + JS overlay integration


3. Mobile/Desktop App: Flutter (cross-platform)


4. Backend API: FastAPI (Python)


5. Scraper Workers: Playwright + BeautifulSoup


6. Database: PostgreSQL


7. Cache / Queue / PubSub: Redis


8. Proxy + SSL: Nginx + Certbot


9. Deployment Orchestration: Docker Compose


10. Version Control / CI: GitHub + GitHub Actions (free tier)




---

ğŸ“‚ DIRECTORY STRUCTURE

price-tracker/
â”œâ”€ backend/
â”‚  â”œâ”€ app/
â”‚  â”‚  â”œâ”€ main.py
â”‚  â”‚  â”œâ”€ api/
â”‚  â”‚  â”‚  â”œâ”€ endpoints.py
â”‚  â”‚  â”œâ”€ models.py
â”‚  â”‚  â”œâ”€ db.py
â”‚  â”‚  â”œâ”€ websocket.py
â”‚  â”‚  â”œâ”€ utils/
â”‚  â”‚  â””â”€ workers/
â”‚  â”‚     â””â”€ tasks.py
â”‚  â”œâ”€ Dockerfile
â”‚  â””â”€ requirements.txt
â”œâ”€ worker/
â”‚  â”œâ”€ playwright_scraper/
â”‚  â”‚  â”œâ”€ scrapers/
â”‚  â”‚  â”‚  â”œâ”€ amazon.py
â”‚  â”‚  â”‚  â”œâ”€ flipkart.py
â”‚  â”‚  â”œâ”€ runner.py
â”‚  â”œâ”€ Dockerfile
â”‚  â””â”€ requirements.txt
â”œâ”€ frontend/
â”‚  â”œâ”€ src/
â”‚  â”œâ”€ vite.config.ts
â”‚  â”œâ”€ package.json
â”‚  â”œâ”€ Dockerfile
â”‚  â””â”€ README.md
â”œâ”€ extension/
â”‚  â”œâ”€ manifest.json
â”‚  â”œâ”€ content_script.js
â”‚  â””â”€ background.js
â”œâ”€ infra/
â”‚  â”œâ”€ docker-compose.yml
â”‚  â”œâ”€ nginx/
â”‚  â”‚  â””â”€ site.conf
â”‚  â”œâ”€ certbot/
â”‚  â””â”€ systemd/
â”‚     â””â”€ price-tracker.service
â””â”€ README.md


---

âš™ TECHNICAL DETAILS

Backend:

FastAPI (REST + WebSocket)

SQLAlchemy + Alembic migrations

Redis Queue (RQ) for worker tasks

CORS-enabled for PWA + Extension access


Frontend:

React + Vite + Tailwind

Dual-mode UI (simple/geek)

Live WebSocket updates

Watchlist, product cards, history graph

IndexedDB offline cache via Workbox


Worker:

Playwright (Chromium, headless)

BeautifulSoup fallback

Modular site scrapers with normalization logic

Randomized UA + polite scraping delays

Retry + backoff for failed sites


Database Models:

products(id, title, sku, brand)
sources(id, domain, site_name, trust_score)
product_sources(product_id, source_id, url)
price_history(id, product_source_id, price_cents, currency, availability, scraped_at)
watchlists(user_id, product_id, alert_rules)
scam_scores(domain, whois_days_old, safe_browsing_flag, trust_signals)

API Endpoints:

POST /api/track â†’ Add new product by URL

GET /api/product/{id} â†’ Retrieve product data + history

GET /api/watchlist â†’ Fetch userâ€™s tracked products

POST /api/watchlist â†’ Add/update watchlist

GET /api/scamcheck?domain=... â†’ Check scam risk

GET /api/sales â†’ List ongoing sales per region

WS /ws/updates â†’ Real-time updates


Realtime:

Redis pub/sub â†’ FastAPI WebSocket â†’ frontend live price card updates


Alerts:

Triggered on threshold breaches

WebPush (VAPID) notifications

WS push + local PWA notification fallback



---

ğŸ§® DATA HANDLING

Normalize all prices to minor currency units (paise, cents, etc.)

Store all timestamps as UTC â†’ convert to userâ€™s local time via frontend

Maintain historical price data for chart rendering

Compress old data weekly to save space

Detect fake/inflated prices using median deviation logic



---

ğŸ§± DEPLOYMENT DETAILS

Server:

Ubuntu LTS VPS

Minimum 2vCPU, 4GB RAM, 50GB SSD


Docker Compose Stack:

PostgreSQL

Redis

Backend (FastAPI)

Worker (Playwright)

Frontend (React)

Nginx Reverse Proxy


Systemd Service:

[Unit]
Description=Price Tracker
After=docker.service
Requires=docker.service

[Service]
WorkingDirectory=/opt/price-tracker
ExecStart=/usr/bin/docker compose up -d
Restart=always

[Install]
WantedBy=multi-user.target

SSL:

Certbot auto-renew

Nginx proxy routes:

example.com â†’ frontend

api.example.com â†’ backend

ws.example.com â†’ WebSocket



Backups:

Daily pg_dump

Weekly data aggregation



---

âš” SCRAPER DESIGN

Each scraper = isolated module under /worker/playwright_scraper/scrapers

Example: amazon.py, flipkart.py, bestbuy.py

Returns structured JSON:


{
  "title": "...",
  "price": 74999,
  "currency": "INR",
  "availability": "In Stock",
  "url": "https://..."
}

Dynamic detection (Playwright)

Fallback static HTML parser (BeautifulSoup)

Rate-limit and rotate headers

Detect CAPTCHAs â†’ skip and retry later



---

ğŸ” SECURITY & ETHICS

No CAPTCHA solvers

No paid proxies

Respect robots.txt where applicable

Always show data source

Include disclaimer: â€œData collected from publicly visible information only.â€

Sanitize URLs, enforce CORS, validate input



---

ğŸŒ FEATURES (MVP SCOPE)

âœ… Add product by URL
âœ… Track live prices across at least 3 websites
âœ… Display historical chart
âœ… Show â€œlowest ever priceâ€
âœ… Region-based sale awareness
âœ… Scam score & trust meter
âœ… Real-time watchlist alerts
âœ… Works offline (PWA cache)
âœ… Live extension overlay
âœ… Hosted & secured on VPS
âœ… Zero paid dependencies


---

ğŸ’¡ FUTURE ADD-ONS

AI-based price forecasting

Telegram/email notifications

Crowdsourced offline prices

User accounts + analytics

Community â€œdeal discussionsâ€

Theme switcher + customization



---

ğŸ§° DELIVERABLES TO GENERATE

1. Folder structure (as shown).


2. Backend boilerplate (FastAPI + DB + Redis setup).


3. Worker (Playwright example + Redis consumer).


4. Frontend (React + Tailwind + WebSocket + sample product page).


5. Dockerfiles (backend, worker, frontend).


6. docker-compose.yml (full stack).


7. Nginx config (reverse proxy setup).


8. README.md (setup, deploy, run instructions).


9. Optional: Flutter boilerplate link for later expansion.




---

ğŸ§­ INSTRUCTIONS TO MODEL

Generate:

Production-grade folder & code scaffolding

Minimal dummy scraper examples (Amazon, Flipkart)

Working WebSocket connection for updates

Docker-compose setup for one-command deployment

Clean code comments & setup docs


Do NOT:

Use any paid service, third-party API key, or premium proxy

Include sample credentials in plain text

Skip README, Dockerfiles, or directory structure



---

Final Note:
This entire build should stand as an open-source proof-of-concept that a globally functional, intelligent price tracker can be built for â‚¹0 using only free, open-source tech and one VPS.

I'll follow up with the suggestions for ui later